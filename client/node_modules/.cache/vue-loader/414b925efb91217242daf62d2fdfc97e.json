{"remainingRequest":"C:\\Users\\computer\\Desktop\\my project\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\computer\\Desktop\\my project\\client\\src\\components\\CustomerRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\computer\\Desktop\\my project\\client\\src\\components\\CustomerRegister.vue","mtime":1570140364195},{"path":"C:\\Users\\computer\\Desktop\\my project\\client\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1564062719000},{"path":"C:\\Users\\computer\\Desktop\\my project\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\computer\\Desktop\\my project\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from \"../http-common\";\n\nexport default {\n  name: \"customerRegister\",\n  data() {\n    return {\n      customerRegister: {\n        sexID: \"\",\n      \tprovinceID: \"\",\n        employeeID: \"\"\n      },\n      valid: false,\n      customerName: \"\",\n      sexs: [],\n      provinces:[],\n      employees:[]\n    };\n  },\n  methods: {\n    /* eslint-disable no-console */\n\n    // ดึงข้อมูล Sex ใส่ combobox\n    getSexs() {\n      http\n        .get(\"/sex\")\n        .then(response => {\n          this.sexs = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n // ดึงข้อมูล Province ใส่ combobox\n    getProvinces() {\n      http\n        .get(\"/province\")\n        .then(response => {\n          this.provinces = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    getEmployees() {\n      http\n        .get(\"/employee\")\n        .then(response => {\n          this.employees = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    // function เมื่อกดปุ่ม ยืนยัน\n    saveCustomerRegister() {\n      http\n        .post(\n          \"/customerRegister/\" +\n            this.customerRegister.employeeID +\n            \"/\" +\n            this.customerRegister.customerNum +\n            \"/\" +\n            this.customerRegister.sexID +\n            \"/\" +\n            this.customerRegister.customerName +\n            \"/\" +\n            this.customerRegister.provinceID +\n            \"/\" +\n            this.customerRegister.district +\n            \"/\" +\n            this.customerRegister.subdistrict +\n            \"/\" +\n            this.customerRegister.address +\n            \"/\" +\n            this.customerRegister.postcode +\n            \"/\" +\n            this.customerRegister.tel,\n          this.customerRegister\n        )\n        .then(response => {\n          console.log(response);\n          this.$router.push(\"/view\");\n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n    },\n    \n    refreshList() {\n    this.getSexs();\n    this.getProvinces();\n    this.getEmployees();\n    }\n   \n   /* eslint-enable no-console */\n  },\n  mounted() {\n    this.getSexs();\n    this.getProvinces();\n    this.getEmployees();\n  }\n}\n",{"version":3,"sources":["CustomerRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomerRegister.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n  <v-container>\n    <v-form v-model=\"valid\" ref=\"form\">\n      <v-col cols=\"6\" md =\"3\"> \n        </v-col>\n        <v-card>\n        <v-col cols=\"6\" md =\"3\"> \n        </v-col>\n\n        <v-row justify=\"center\">\n      \t<span class=\"display-1 font-weight-light\"> Customer Registration</span>\n        </v-row>\n\n        <v-row justify=\"center\">\n        <v-col cols=6 md=\"3\">\n          <v-text-field \n\t          outlined\n            label=\"ID ลูกค้า\"\n            v-model=\"customerRegister.customerNum\"\n            :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n          ></v-text-field>\n        </v-col>\n        <v-col cols=\"6\" md =\"3\" > \n        </v-col>\n        <v-col cols=\"6\" md =\"3\" > \n        </v-col>\n      \t</v-row>\n\n      <v-row justify=\"center\">\n        <v-col class=\"\" cols=\"6\" md=\"3\">\n        <v-select\n\t        outlined    \n          label=\"เพศ\"\n\t        v-model=\"customerRegister.sexID\"\n          :items=\"sexs\"\n\t        item-text=\"name\"\n          item-value=\"id\"\n          :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n        ></v-select>\n      </v-col>\n\n        <v-col cols=\"6\" sm=\"6\">\n          <v-text-field\n\t          outlined \n            label=\"ชื่อ-นามสกุล\"\n            v-model=\"customerRegister.customerName\"\n            :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n          ></v-text-field>\n        </v-col>\n      </v-row>\n\n      <v-row justify=\"center\">\n      <v-col cols=\"6\" md=\"3\" sm=\"6\">\n        <v-select\n\t        outlined\n          label=\"จังหวัด\"\n\t        v-model=\"customerRegister.provinceID\"\n          :items=\"provinces\"\n\t        item-text=\"name\"\n          item-value=\"id\"\n          :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n        ></v-select>\n      </v-col>\n\n      <v-col cols=6 md=\"3\">\n          <v-text-field \n\t          outlined\n            label=\"อำเภอ\"\n            v-model=\"customerRegister.district\"\n            :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n          ></v-text-field>\n        </v-col>\n\n      <v-col cols=\"6\" md=\"3\" sm=\"6\">\n        <v-text-field\n\t        outlined\n          label=\"ตำบล\"\n\t        v-model=\"customerRegister.subdistrict\"\n          :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n        ></v-text-field>\n        </v-col>\n      </v-row>\n\n      <v-row justify=\"center\">\n        <v-col cols=\"6\" sm=\"6\" md=\"3\">\n          <v-text-field\n\t          outlined\n            label=\"ที่อยู่ (ห้ามมีเครื่องหมาย /)\"\n            v-model=\"customerRegister.address\"\n            :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n          ></v-text-field>\n        </v-col>\n\n        <v-col cols=\"6\" md=\"3\" sm=\"6\">\n          <v-text-field\n\t          outlined\n            label=\"รหัสไปรษณีย์\"\n            v-model=\"customerRegister.postcode\"\n            :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n          ></v-text-field>\n        </v-col>\n\n        <v-col cols=\"6\" md=\"3\" sm=\"6\">\n          <v-text-field\n\t          outlined\n            label=\"เบอร์ติดต่อ\"\n            v-model=\"customerRegister.tel\"\n            :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n          ></v-text-field>\n        </v-col>\n       </v-row>\n\n         <v-row justify=\"center\">\n        <v-col cols=\"6\" md=\"3\" sm=\"6\">\n        <v-select\n\t        outlined\n          label=\"พนักงาน\"\n\t        v-model=\"customerRegister.employeeID\"\n          :items=\"employees\"\n\t        item-text = \"name\"\n          item-value = \"id\"\n          :rules=\"[(v) => !!v || 'กรุณาใส่ข้อมูล']\"\n                required\n        ></v-select>\n      </v-col>\n      <v-col cols=\"6\" md =\"3\" sm=\"6\"> \n         </v-col>\n         <v-col cols=\"6\" md =\"3\" sm=\"6\"> \n         </v-col>\n      </v-row>\n\n\t    <v-row justify=\"center\">\n        <v-col cols=\"12\">\n         <div class=\"text-center\">\n            <v-btn @click=\"saveCustomerRegister\" :class=\"{ red: !valid, green: valid }\" dark>ยืนยัน\n              <v-icon dark right>mdi-checkbox-marked-circle</v-icon>\n            </v-btn>\n         </div>\n        </v-col>\n        </v-row>\n\n    </v-card>\n    </v-form> \n  </v-container>\n  \n</template>\n\n<script>\nimport http from \"../http-common\";\n\nexport default {\n  name: \"customerRegister\",\n  data() {\n    return {\n      customerRegister: {\n        sexID: \"\",\n      \tprovinceID: \"\",\n        employeeID: \"\"\n      },\n      valid: false,\n      customerName: \"\",\n      sexs: [],\n      provinces:[],\n      employees:[]\n    };\n  },\n  methods: {\n    /* eslint-disable no-console */\n\n    // ดึงข้อมูล Sex ใส่ combobox\n    getSexs() {\n      http\n        .get(\"/sex\")\n        .then(response => {\n          this.sexs = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n // ดึงข้อมูล Province ใส่ combobox\n    getProvinces() {\n      http\n        .get(\"/province\")\n        .then(response => {\n          this.provinces = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    getEmployees() {\n      http\n        .get(\"/employee\")\n        .then(response => {\n          this.employees = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    // function เมื่อกดปุ่ม ยืนยัน\n    saveCustomerRegister() {\n      http\n        .post(\n          \"/customerRegister/\" +\n            this.customerRegister.employeeID +\n            \"/\" +\n            this.customerRegister.customerNum +\n            \"/\" +\n            this.customerRegister.sexID +\n            \"/\" +\n            this.customerRegister.customerName +\n            \"/\" +\n            this.customerRegister.provinceID +\n            \"/\" +\n            this.customerRegister.district +\n            \"/\" +\n            this.customerRegister.subdistrict +\n            \"/\" +\n            this.customerRegister.address +\n            \"/\" +\n            this.customerRegister.postcode +\n            \"/\" +\n            this.customerRegister.tel,\n          this.customerRegister\n        )\n        .then(response => {\n          console.log(response);\n          this.$router.push(\"/view\");\n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n    },\n    \n    refreshList() {\n    this.getSexs();\n    this.getProvinces();\n    this.getEmployees();\n    }\n   \n   /* eslint-enable no-console */\n  },\n  mounted() {\n    this.getSexs();\n    this.getProvinces();\n    this.getEmployees();\n  }\n}\n</script>"]}]}